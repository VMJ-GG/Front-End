<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- CSSs -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.0-beta/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./vendor/css/snappy-light-prettify.css">

    <!-- Scripts -->
    <script type="text/javascript" src="./vendor/js/prettify.js"></script>
    <script type="text/javascript" src="./js/encrypter.js"></script>

    <!-- Material Design Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <title>Crittografia</title>
  </head>
  <body>
    <header class="header-fixed nav-down">
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
       <img class="mr-1" href="index.html" src="./images/WebTips_logo.svg" style="width:40px; height:40px;">
        <a class="navbar-brand" href="#">Web-tips</a>
         <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
         </button>
         <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Reti</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle active" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Algoritmi JS
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="CalcoloNumerico.html">Calcolo Numerico</a>
                 <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="Crittografia.html">Crittografia</a>
              </div>
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <main class="container-fluid px-0" role="main">
      <section id="top" class="jumbotron jumbotron-composti">
        <div class="jumbotron-body">
          <div class="gw-container">
            <input type="text" class="d-none">
            <div class="gw-placeholder">
              <div class="gw-static">
                <span>Inserisci qui</span>
              </div>
              <div class="gw-wrapper">
                <a class="gw-text" data-phrases='[" il testo...", " ciò che vuoi criptare...", " una qualsiasi frase..."]' data-duration="2000"></a>
              </div>
            </div>
          </div>
          <div class="">
            <button type="button" id="buttonCriptDecript" class="mt-5 btn btn-outline-light arrow-right" onclick="ChangeText()">Cripta<i class="material-icons">keyboard_arrow_right</i></button>
          </div>
        </div>
      </section>

        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <div class="caption-head">
                Funzioni composte
              </div>
              <div class="caption-body">
                <div class="text-h5 text-primary arrow-down">
                  Il crittogramma
                </div>
                <div class="border rounded" style=" font-size:1.7rem; height:40px;">
                  <div id="output" class="output" style="white-space: pre"></div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-6">
                  <div class="text-select text-success mt-4">Chiave per Cesare o Pizzini</div>
                  <div class="" style="text-align: center;">
                     <select class="select"></select>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="text-select text-select-pM mt-4">Chiave per Vigenere</div>
                  <div class="input-select">
                    <input type="text" class="form-control" placeholder="Inserisci una chiave">
                  </div>
                </div>
              </div>

              <div class="caption-body mt-4 mb-4" onclick="hideShow(1);">
                Clicca i metodi nell'ordine che preferisci, creando catene crittografiche composte a tuo piacimento. <div class="arrow-down" style="display: inline">
                  <i class="material-icons">keyboard_arrow_down</i>
                </div>
              </div>
             </div>
            </div>

              <div class="row">

                <div class="col-md-4">
                  <div class="caption-head text-primary">
                    I metodi
                  </div>
                  <div class="badge-container border border-primary rounded">
                    <div class="btn btn-outline-primary ml-2 mb-2">Cesare</div>
                    <div class="btn btn-outline-primary ml-2 mb-2">Atbash</div>
                    <div class="btn btn-outline-primary ml-2 mb-2">Vigenère</div>
                    <div class="btn btn-outline-primary ml-2 mb-2">Pizzini</div>
                    <div class="btn btn-outline-primary ml-2 mb-2">Polibio</div>
                    <div class="btn btn-outline-primary ml-2 mb-2">Cesare</div>
                  </div>
                </div>

                <div class="col-md-8">
                  <div class="text-danger caption-head">
                    La tua catena
                  </div>
                  <div id="chain" class="badge-container border border-danger rounded"></div>


                </div>

            </div>

            <hr>
            <div class="row mt-3 mb-5">
              <div class="col-lg-4">
                <div class="">
                  Seleziona in ordine i <div class="text-primary" style="display:inline">metodi</div> che vuoi implementare nel tuo processo di crittografia. I metodi posso ripetersi e non ci sono limiti nel creare combinazioni di cifratura!
                </div>
              </div>
              <div class="col-lg-8">
                <div class="">
                  I metodi verranno visualizzati nella sezione rossa in ordine di esecuzione. Cliccando sopra i metodi che lo consentono, potrai selezionare la chiave di cifratura. <br> Puoi cancellare i metodi che non vuoi più dentro <div class="text-danger" style="display:inline">la tua catena</div>.
                </div>
              </div>
            </div>
        </div>

        <footer>
          <div class="caption footer-container">
            <div class="footer-link arrow-down">
              Back to top
              <i class="material-icons">keyboard_arrow_up</i>
            </div>
          </div>
        </footer>

    </main>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.0-beta/js/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="./js/helpers.js"></script>
    <script type="text/javascript" src="./js/ghostWriter.js"></script>
    <script type="text/javascript" src="./js/navbarScrolling.js"></script>
    <script type="text/javascript" src="./js/fromCriptToDecript.js"></script>
    <script type="text/javascript" src="./js/hideShow.js"></script>

    <script type="text/javascript">

      $(document).ready(function() {
        // Selectors
        var PLACEHOLDER = '.gw-placeholder';

        // Writer object -> It starts typing by default
        var writer = $('.gw-text').ghostWriter();

        // === Event Listeners ===
        // Writer's event
        $(PLACEHOLDER).on('click', function(e) {
          e.stopPropagation();

          var placeholder = $(this);
          var input       = placeholder.prev();
          var inputText   = input.val();
          var outputText  = $('.output').text();

          writer.stop();  // Stop typing
          placeholder
            .addClass('d-none');

          input
            .removeClass('d-none')
            .val(outputText ? inputText : '')
            .focus();
        });

        // Window event for stopping writing
        $(window).on('click', function(e) {
          if(e.target.nodeName === 'INPUT') {
            e.stopPropagation();
            return;
          }

          writer.play(); // Start typing again
          $(PLACEHOLDER).removeClass('d-none');
          $(PLACEHOLDER)
            .prev()
            .addClass('d-none')
            .blur();
        });

        $('.badge-container').find('.btn').on('click', function() {
          var value = $(this).text();
          var chain = $('#chain').append(
            '<div class="btn btn-danger composed-badge" data-toggle="tooltip" data-placement="bottom" title="Tooltip Bottom">' + value +
              '<i class="material-icons icon-small ml-1 clear">clear</i>' +
            '</div>'
          )

          chain.find('.clear').on('click', function() {
            var parent = $(this).closest('.composed-badge');
            parent.tooltip('dispose');
            parent.remove();
          });

          chain.find('.btn').tooltip({
            trigger: 'click'
          });
        });

        $('.select').range({ from: 1, to: 26, step: 1 });
        $('.select').selectpicker({
                size: 5,
               style: 'btn-outline-success',
          dropupAuto: false,
        }).selectpicker('val', '3');

        $(PLACEHOLDER).prev().on('keyup', function(e) {
          var text = $(this).val();
          var key  = e.key;

          switch (key) {
            case 'Shift':
            case 'Alt':
            case 'AltGraph':
            case 'CapsLock':
            case 'Control':
            case 'Fn':
            case 'FnLock':
            case 'Alt':
            case 'Hyper':
            case 'Meta':
            case 'NumLock':
            case 'ScrollLock':
            case 'Super':
            case 'OS':
            case 'Symbol':
            case 'SymbolLock':
            case 'Tab':
            case 'ArrowUp':
            case 'ArrowLeft':
            case 'ArrowDown':
            case 'ArrowRight':
            case 'PageUp':
            case 'PageDown':
            case 'End':
            case 'Home':
            break;
            case 'Backspace':
              $('.output').text(text);
            break;
            default:
              $('.output').text(text);
          }
        });

        // Run prettify.js
        PR.prettyPrint();

        //footer
        $('.footer-link').click(function() {
          $('html, body').animate({
            scrollTop: $('#top').offset().top-76
          }, 1200);
        });

      });
    </script>
  </body>
</html>
